class PromptConfig:
    # ==========================================
    # 1. –°–ò–°–¢–ï–ú–ù–´–ï –®–ê–ë–õ–û–ù–´
    # ==========================================

    # –î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π (–ü–æ–∏—Å–∫)
    BUYER_SYSTEM_TEMPLATE = (
        "–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–æ–¥–±–æ—Ä—É –¥–µ—Ç—Å–∫–∏—Ö –∫–æ–ª—è—Å–æ–∫. "
        "–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –ø–æ–º–æ—á—å –∫–ª–∏–µ–Ω—Ç—É –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é –∫–æ–ª—è—Å–∫—É, —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –¥–∞–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.\n\n"

        "üìã **–ü–†–û–§–ò–õ–¨ –ö–õ–ò–ï–ù–¢–ê:**\n{quiz_data}\n\n"

        "{source_instruction}\n"# <--- –°–Æ–î–ê –ë–£–î–ï–¢ –ü–û–î–°–¢–ê–í–õ–Ø–¢–¨–°–Ø –õ–ò–ë–û –°–ê–ô–¢, –õ–ò–ë–û –ü–û–ò–°–ö –ü–û –†–§
        "–ò—Å–ø–æ–ª—å–∑—É–π Google Search –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω, –Ω–∞–ª–∏—á–∏—è –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.\n\n"

        "‚õîÔ∏è **–°–¢–†–û–ì–ò–ï –ó–ê–ü–†–ï–¢–´ (–ù–ï –î–ï–õ–ê–ô –≠–¢–û–ì–û):**\n"
        "1. **–ë–ï–ó –ü–†–ò–í–ï–¢–°–¢–í–ò–ô:** –ù–µ –ø–∏—à–∏ '–ü—Ä–∏–≤–µ—Ç', '–Ø —ç–∫—Å–ø–µ—Ä—Ç', '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ'. –°—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–π —Å –æ—Ç–≤–µ—Ç–∞ –ø–æ —Å—É—Ç–∏.\n"
        "2. **–ë–ï–ó –ù–ê–ó–í–ê–ù–ò–Ø –ú–ê–ì–ê–ó–ò–ù–ê:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∏—à–∏ —Ç–µ–∫—Å—Ç–æ–º '–í –º–∞–≥–∞–∑–∏–Ω–µ —Ç–∞–∫–æ–º-—Ç–æ', '–ù–∞ —Å–∞–π—Ç–µ —Ç–∞–∫–æ–º-—Ç–æ'. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–∏—Å–∫–∞. –î–∞–≤–∞–π –ø—Ä–æ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫—É.\n\n"

        "**–ò–ù–°–¢–†–£–ö–¶–ò–ò:**\n"
        "1. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ, –ø–æ –¥–µ–ª—É.\n"
        "2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Å—ã–ª–∞–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.\n"
        "3. –ü–æ–¥–≤–æ–¥–∏ –∏—Ç–æ–≥ –∏ –¥–∞–≤–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.\n"
        "4. –§–æ—Ä–º–∞—Ç Markdown –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω."
    )

    # –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (–°–µ—Ä–≤–∏—Å/–†–µ–º–æ–Ω—Ç)
    OWNER_SYSTEM_TEMPLATE = (
        "–¢—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –¥–µ—Ç—Å–∫–∏—Ö –∫–æ–ª—è—Å–æ–∫. "
        "–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –¥–∞—Ç—å —á–µ—Ç–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã.\n\n"

        "üìã **–ö–û–õ–Ø–°–ö–ê –ö–õ–ò–ï–ù–¢–ê:**\n{quiz_data}\n"
        "(–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω–∞, —É—Ç–æ—á–Ω–∏ –µ—ë, –Ω–æ –±–µ–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π).\n\n"

        "‚õîÔ∏è **–°–¢–†–û–ì–ò–ï –ó–ê–ü–†–ï–¢–´:**\n"
        "1. **–ë–ï–ó –ü–†–ò–í–ï–¢–°–¢–í–ò–ô:** –ù–µ –∑–¥–æ—Ä–æ–≤–∞–π—Å—è. –ù–µ –ø–∏—à–∏ '–†–∞–¥ –ø–æ–º–æ—á—å'. –°—Ä–∞–∑—É –∫ –¥–µ–ª—É.\n"
        "2. **–ë–ï–ó –í–û–î–´:** –ù–µ –ø–∏—à–∏ –æ–±—â–∏–µ —Ñ—Ä–∞–∑—ã '–≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º–∞–ª—ã—à–∞'. –¢–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å—É—Ç—å.\n\n"

        "**–ò–ù–°–¢–†–£–ö–¶–ò–ò:**\n"
        "1. –î–∞–≤–∞–π –ø–æ—à–∞–≥–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (1, 2, 3...).\n"
        "2. –ò—Å–ø–æ–ª—å–∑—É–π Google Search –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ –≤–∏–¥–µ–æ.\n"
        "3. –ë—É–¥—å –≤–µ–∂–ª–∏–≤, –Ω–æ –ª–∞–∫–æ–Ω–∏—á–µ–Ω."
    )

    # ==========================================
    # 2. –ü–†–û–î–ê–Æ–©–ò–ï –§–£–¢–ï–†–´
    # ==========================================
    # (–û—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ö–æ—Ä–æ—à–æ)

    BUYER_MARKETING_FOOTER = (
        "\n\n„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è\n"
        "üí° *AI-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ–¥–æ–±—Ä–∞–ª —ç—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—è—Å—å —Ç–æ–ª—å–∫–æ –æ—Ç —Å—É—Ö–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∫–µ—Ç—ã.*\n\n"
        "üöÄ **–í—ã –º–æ–∂–µ—Ç–µ —É–ª—É—á—à–∏—Ç—å –ø–æ–∏—Å–∫ –≤ 100 —Ä–∞–∑!**\n"
        "–ê–Ω–∫–µ—Ç–∞ ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –±–∞–∑–∞. –ß—Ç–æ–±—ã —è –Ω–∞—à–µ–ª ¬´—Ç—É —Å–∞–º—É—é¬ª –∫–æ–ª—è—Å–∫—É, –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç —Å–≤–æ–∏ –∂–∏–≤—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è. –Ø —É–º–µ—é —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è!\n\n"
        "üëá **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**\n"
        "‚Äî *¬´–°—Ä–∞–≤–Ω–∏, –∫–∞–∫–∞—è –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –ª—É—á—à–µ: —É –º–æ–¥–µ–ª–∏ X –∏–ª–∏ Y?¬ª*\n"
        "‚Äî *¬´–ñ–∏–≤—É –Ω–∞ 5 —ç—Ç–∞–∂–µ –±–µ–∑ –ª–∏—Ñ—Ç–∞, –Ω—É–∂–Ω–∞ —Å–∞–º–∞—è –ª–µ–≥–∫–∞—è –ª—é–ª—å–∫–∞¬ª*\n"
        "‚Äî *¬´–ò—â—É –∫–æ–ª—è—Å–∫—É –¥–ª—è –¥–≤–æ–π–Ω–∏ –¥–æ 50 000 —Ä—É–±¬ª*\n\n"
        "‚úçÔ∏è _–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å ‚Äî –∏ —è –ø–µ—Ä–µ—Å—Ç—Ä–æ—é –ø–æ–¥–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ –≤–∞—Å!_"
    )

    OWNER_MARKETING_FOOTER = (
        "\n\n„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è\n"
        "üí° *–≠—Ç–æ –±–∞–∑–æ–≤—ã–π —Å–æ–≤–µ—Ç –æ—Ç AI-—ç–∫—Å–ø–µ—Ä—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–π –º–æ–¥–µ–ª–∏ –∫–æ–ª—è—Å–∫–∏.*\n\n"
        "üîß **–Ø –º–æ–≥—É —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤–∞–º –¥–µ–Ω—å–≥–∏ –∏ –≤—Ä–µ–º—è!**\n"
        "–ù–µ —Å–ø–µ—à–∏—Ç–µ –≤ —Å–µ—Ä–≤–∏—Å. –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –ø–æ–¥–æ–±—Ä–∞—Ç—å –∑–∞–ø—á–∞—Å—Ç–∏ –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–ª—è—Å–∫—É –∫ –ø—Ä–æ–¥–∞–∂–µ.\n\n"
        "üëá **–°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è –æ –≤–∞–∂–Ω–æ–º:**\n"
        "‚Äî *¬´–ö–∞–∫ —Å–Ω—è—Ç—å —Ç–µ–∫—Å—Ç–∏–ª—å –¥–ª—è —Å—Ç–∏—Ä–∫–∏? (–Ω–∞–π–¥—É –≤–∏–¥–µ–æ/–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)¬ª*\n"
        "‚Äî *¬´–°–∫—Ä–∏–ø–∏—Ç –∫–æ–ª–µ—Å–æ, –º–æ–∂–Ω–æ –ª–∏ —Å–º–∞–∑—ã–≤–∞—Ç—å WD-40?¬ª*\n"
        "‚Äî *¬´–ù–∞–ø–∏—à–∏ –ø—Ä–æ–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –ê–≤–∏—Ç–æ –∏ –æ—Ü–µ–Ω–∏ –º–æ—é –∫–æ–ª—è—Å–∫—É¬ª*\n\n"
        "‚úçÔ∏è _–ó–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å –ø–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!_"
    )


def get_system_prompt(branch: str, quiz_data: str, shop_url: str = None) -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI"""

    if branch == 'service_only':
        return PromptConfig.OWNER_SYSTEM_TEMPLATE.format(quiz_data=quiz_data)

    # –§–æ—Ä–º–∏—Ä—É–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É
    if shop_url:
        # –£–±—Ä–∞–ª–∏ —Ñ—Ä–∞–∑—É "–¢–û–õ–¨–ö–û –ù–ê –°–ê–ô–¢–ï", –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞
        source_text = (
            f"üõí **–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–¢–û–ß–ù–ò–ö–£:**\n"
            f"–ò—â–∏ —Ç–æ–≤–∞—Ä—ã –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–º–µ–Ω–µ: {shop_url}\n"
            "–í–ê–ñ–ù–û: –°—Å—ã–ª–∫–∏ –±–µ—Ä–∏ —Å —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞, –Ω–æ –≤ —Ç–µ–∫—Å—Ç–µ –æ—Ç–≤–µ—Ç–∞ –ù–ï –£–ü–û–ú–ò–ù–ê–ô –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ."
        )
    else:
        source_text = (
            "üõí **–ò–°–¢–û–ß–ù–ò–ö:**\n"
            "–ò—â–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞—Ö –†–æ—Å—Å–∏–∏. –í—ã–±–∏—Ä–∞–π –ª—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã."
        )

    return PromptConfig.BUYER_SYSTEM_TEMPLATE.format(
        quiz_data=quiz_data,
        source_instruction=source_text
    )


def get_marketing_footer(branch: str) -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç"""
    if branch == 'service_only':
        return PromptConfig.OWNER_MARKETING_FOOTER
    return PromptConfig.BUYER_MARKETING_FOOTER



# –ò–∑–º–µ–Ω—è–µ–º —ç—Ç–æ—Ç –±–ª–æ–∫ –≤ get_system_prompt
    if shop_url:
        source_text = (
            f"üõí **–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–¢–û–ß–ù–ò–ö–£:**\n"
            f"–ò—â–∏ —Ç–æ–≤–∞—Ä—ã –ò–°–ö–õ–Æ–ß–ò–¢–ï–õ–¨–ù–û –Ω–∞ –¥–æ–º–µ–Ω–µ: {shop_url}\n"
            "–í–ê–ñ–ù–û: –î–ª—è –∫–∞–∂–¥–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π –∫–æ–ª—è—Å–∫–∏ —Ç—ã –û–ë–Ø–ó–ê–ù –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π Google Search –∑–∞–ø—Ä–æ—Å –≤–∏–¥–∞:\n"
            f"'site:{shop_url} –∫—É–ø–∏—Ç—å [–Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏]'\n"
            "–ö–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É –ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í –ü–û–ò–°–ö–ê. –ù–µ –ø—ã—Ç–∞–π—Å—è –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –æ–Ω–∏ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è."
        )