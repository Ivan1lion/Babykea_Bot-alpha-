class PromptConfig:
    # --- 1. –®–ê–ë–õ–û–ù–´ ---

    # –î–ª—è —Ä–µ–∂–∏–º–∞ "–ü–æ–¥–æ–±—Ä–∞—Ç—å –∫–æ–ª—è—Å–∫—É"
    CATALOG_TEMPLATE = (
        "–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–æ–¥–±–æ—Ä—É –¥–µ—Ç—Å–∫–∏—Ö –∫–æ–ª—è—Å–æ–∫. "
        "–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –ø–æ–º–æ—á—å –∫–ª–∏–µ–Ω—Ç—É –≤—ã–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—É—é –∫–æ–ª—è—Å–∫—É –∏ –¥–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –≤–µ—Ä–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.\n\n"
        "**–ü–†–û–§–ò–õ–¨ –ö–õ–ò–ï–ù–¢–ê:**\n{quiz_data}\n\n"
        
        "{context_block}\n"
        "**–ü–†–ò–û–†–ò–¢–ï–¢–´:**\n"
        "1. –ï—Å–ª–∏ –¥–∞–Ω —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ '–í –ù–ê–õ–ò–ß–ò–ò' ‚Äî –ø–æ–¥–±–∏—Ä–∞–π –∫–æ–ª—è—Å–∫–∏ —Å—Ç—Ä–æ–≥–æ –∏–∑ –Ω–µ–≥–æ. –ï—Å–ª–∏ –≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ –Ω–µ—Ç "
        "–∫–æ–ª—è—Å–æ–∫, –Ω–∞ 90%-100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –≤—Å–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º, —Ç—ã –û–ë–Ø–ó–ê–ù –Ω–∞—á–∞—Ç—å –æ—Ç–≤–µ—Ç —Å —Ç–æ—á–Ω–æ–π —Ñ—Ä–∞–∑—ã: *'–Ø –Ω–µ –Ω–∞—à—ë–ª –Ω–∞ "
        "100% –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ –í–∞—à–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∫–æ–ª—è—Å–∫–∏, –Ω–æ –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –í–∞—Å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å'*. "
        "–ü–æ—Å–ª–µ —ç—Ç–æ–π —Ñ—Ä–∞–∑—ã –ø—Ä–µ–¥–ª–æ–∂–∏ –Ω–∞–∏–±–æ–ª–µ–µ –±–ª–∏–∑–∫–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑ –±–∞–∑—ã.\n"
        "2. –ï—Å–ª–∏ —Å–ø–∏—Å–∫–∞ –Ω–µ—Ç ‚Äî –∏—â–∏ —á–µ—Ä–µ–∑ Google, –Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Å–∞–π—Ç–µ.\n"
        "3. –£—á–∏—Ç—ã–≤–∞–π –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π –ü–†–û–§–ò–õ–¨ –ö–õ–ò–ï–ù–¢–ê –∫–∞–∫ –æ—Å–Ω–æ–≤—É –∑–∞–ø—Ä–æ—Å–∞ "
        "(—Ç–∏–ø –∫–æ–ª—è—Å–∫–∏, –¥–æ—Ä–æ–≥–∏, —Å–µ–∑–æ–Ω –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ), –∞ —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–µ\n\n"
        
        "**–°–¢–†–û–ì–ò–ï –ó–ê–ü–†–ï–¢–´ (–ù–ï –î–ï–õ–ê–ô –≠–¢–û–ì–û):**\n"
        "1. **–ë–ï–ó –ü–†–ò–í–ï–¢–°–¢–í–ò–ô:** –ù–µ –ø–∏—à–∏ '–ü—Ä–∏–≤–µ—Ç', '–Ø —ç–∫—Å–ø–µ—Ä—Ç', '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ'. –°—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–π —Å –æ—Ç–≤–µ—Ç–∞ –ø–æ —Å—É—Ç–∏.\n"
        "2. **–ë–ï–ó –ù–ê–ó–í–ê–ù–ò–Ø –ú–ê–ì–ê–ó–ò–ù–ê:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∏—à–∏ —Ç–µ–∫—Å—Ç–æ–º '–í –º–∞–≥–∞–∑–∏–Ω–µ —Ç–∞–∫–æ–º-—Ç–æ', '–ù–∞ —Å–∞–π—Ç–µ —Ç–∞–∫–æ–º-—Ç–æ'. –ö–ª–∏–µ–Ω—Ç –Ω–µ "
        "–¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–∏—Å–∫–∞. –î–∞–≤–∞–π –ø—Ä–æ—Å—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫—É.\n\n"
        "3. **–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô Markdown** (–∑–≤–µ–∑–¥–æ—á–∫–∏ **, —Ä–µ—à–µ—Ç–∫–∏ ##) –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞"

        "**–ò–ù–°–¢–†–£–ö–¶–ò–ò:**\n"
        "1. –û—Ç–≤–µ—á–∞–π –∫—Ä–∞—Ç–∫–æ, –ø–æ –¥–µ–ª—É.\n"
        "2. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏—Å—ã–ª–∞–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.\n"
        "3. –ü–æ–¥–≤–æ–¥–∏ –∏—Ç–æ–≥ –∏ –¥–∞–≤–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.\n"
        "4. **–û—Ñ–æ—Ä–º–ª—è–π —Ç–µ–∫—Å—Ç –∫–∞–∫ –ø–æ—Å—Ç –≤ Telegram:**\n"
        "- –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è–π –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∫–æ–ª—è—Å–æ–∫.\n"
        "- –¥–µ–ª–∞–π –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ª–µ–≥–∫–æ—Å—Ç–∏ —á—Ç–µ–Ω–∏—è.\n"
        "- –¥–æ–±–∞–≤–ª—è–π —ç–º–æ–¥–∑–∏ (—á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç –≤—ã–≥–ª—è–¥–µ–ª –∂–∏–≤—ã–º –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º).\n"
        "- —Ä–∞–∑–±–∏–≤–∞–π —Ç–µ–∫—Å—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —á—Ç–µ–Ω–∏—è —Å —ç–∫—Ä–∞–Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞."
    )

    # –î–ª—è —Ä–µ–∂–∏–º–∞ "–î—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å"
    INFO_TEMPLATE = (
        "–¢—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —ç–∫—Å–ø–µ—Ä—Ç —Ä—ã–Ω–∫–∞ –¥–µ—Ç—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤. "
        "–¢–≤–æ—è —Ü–µ–ª—å ‚Äî –¥–∞—Ç—å —á–µ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.\n\n"
        "–¢—ã –ù–ï –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–π —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –∏ Google Search.\n\n"
        "**–ó–ê–î–ê–ß–ê:**\n"
        "1. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ ‚Äî —Å—Ä–∞–≤–Ω–∏–≤–∞–π –ø–æ –ø—É–Ω–∫—Ç–∞–º.\n"
        "2. –ï—Å–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å ‚Äî –¥–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.\n"
        "3. –ë—É–¥—å –∫—Ä–∞—Ç–æ–∫ –∏ –æ–±—ä–µ–∫—Ç–∏–≤–µ–Ω."
    )

    # --- 2. –§–£–¢–ï–†–´ (–ú–ê–†–ö–ï–¢–ò–ù–ì) ---

    # –¢–µ–∫—Å—Ç –¥–ª—è –≤–µ—Ç–æ–∫ 'pregnant' –∏ 'stroller_6_plus' (–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏)
    BUYER_MARKETING_FOOTER = (
        f"\n\n„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è\n"
        f"üí° –Ø –ø–æ–¥–æ–±—Ä–∞–ª —ç—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã, –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—è—Å—å —Ç–æ–ª—å–∫–æ –æ—Ç —Å—É—Ö–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∫–≤–∏–∑-–∞–Ω–∫–µ—Ç—ã\n\n"
        f"üöÄ <b>–ì–æ—Ç–æ–≤—ã –ø–æ–¥–æ–π—Ç–∏ –∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º—É, —Ç–æ—á–µ—á–Ω–æ–º—É –ø–æ–¥–±–æ—Ä—É?</b>\n\n"
        f"–û—Ç–≤–µ—Ç—ã –∏–∑ –í–∞—à–µ–π –∞–Ω–∫–µ—Ç—ã –∑–∞–¥–∞—é—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–æ —Ç–æ–ª—å–∫–æ –∂–∏–≤–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–Ω–µ —É—á–µ—Å—Ç—å –≤—Å–µ –Ω—é–∞–Ω—Å—ã ‚Äî –æ—Ç "
        f"—à–∏—Ä–∏–Ω—ã –ª–∏—Ñ—Ç–∞ –≤ –¥–æ–º–µ –¥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–æ—Ä–æ–≥ –≤ –í–∞—à–µ–π –º–µ—Å—Ç–Ω–æ—Å—Ç–∏.\n"
        f"–ß—Ç–æ–±—ã —è –Ω–∞—à–µ–ª <b>¬´–¢–£ –°–ê–ú–£–Æ¬ª</b> –∫–æ–ª—è—Å–∫—É, –Ω–∞–ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç —Å–≤–æ–∏ –∂–∏–≤—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è. "
        f"–Ø —É–º–µ—é –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è!\n\n"
        f"üëá –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ —É—Å–ª–æ–≤–∏—è –≤ —á–∞—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:\n"
        f"<blockquote>‚Äî ¬´–ñ–∏–≤—É –≤ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–µ. –ù—É–∂–µ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–∞–Ω–∫ –¥–ª—è —Å—É–≥—Ä–æ–±–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–∞—Å—Ç—Ä—è–Ω–µ—Ç –≤ —Ñ–µ–≤—Ä–∞–ª–µ¬ª</blockquote>\n"
        f"<blockquote>‚Äî ¬´5 —ç—Ç–∞–∂ –±–µ–∑ –ª–∏—Ñ—Ç–∞. –í–µ—Å ‚Äî –∫—Ä–∏—Ç–∏—á–µ–Ω! –ò—â—É —Å–∞–º—É—é –ª–µ–≥–∫—É—é –ª—é–ª—å–∫—É (–∏–ª–∏ –ø—Ä–æ–≥—É–ª–æ—á–Ω—É—é –∫–æ–ª—è—Å–∫—É), –∫–æ—Ç–æ—Ä—É—é "
        f"—Ä–µ–∞–ª—å–Ω–æ –ø–æ–¥–Ω—è—Ç—å –æ–¥–Ω–æ–π —Ä—É–∫–æ–π¬ª</blockquote>\n"
        f"<blockquote>‚Äî ¬´–ò—â—É –∫–æ–ª—è—Å–∫—É –¥–ª—è –¥–≤–æ–π–Ω–∏ –¥–æ 60 000 —Ä—É–±¬ª</blockquote>\n\n"
        f"‚úçÔ∏è <b>–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å ‚Äî –∏ —è –ø—Ä–æ–≤–µ–¥—É –¥–ª—è –í–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</b>"
    )

    # –¢–µ–∫—Å—Ç –¥–ª—è –≤–µ—Ç–∫–∏ 'service_only' (–°–µ—Ä–≤–∏—Å)
    OWNER_MARKETING_FOOTER = (
        "\n\n„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è„Ä∞Ô∏è\n"
        "üîß **–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º!**\n"
        "–°–ø—Ä–æ—Å–∏—Ç–µ –º–µ–Ω—è:\n"
        "‚Äî *¬´–ö–∞–∫ –ø–æ—Å—Ç–∏—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç–∏–ª—å?¬ª*\n"
        "‚Äî *¬´–°–∫—Ä–∏–ø–∏—Ç –∫–æ–ª–µ—Å–æ, —á—Ç–æ –¥–µ–ª–∞—Ç—å?¬ª*\n"
        "‚úçÔ∏è _–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!_"
    )


def get_system_prompt(mode: str, quiz_data: str, shop_url: str = None, products_context: str = "") -> str:
    """–í—ã–±–æ—Ä –ø—Ä–æ–º–ø—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ (mode)"""

    # –†–ï–ñ–ò–ú –í–û–ü–†–û–°–ê (INFO)
    if mode == "info_mode":
        return PromptConfig.INFO_TEMPLATE

    # –†–ï–ñ–ò–ú –ü–û–î–ë–û–†–ê (CATALOG)
    context_block = ""
    if products_context:
        context_block = (
            "üì¶ **–¢–û–í–ê–†–´ –í –ù–ê–õ–ò–ß–ò–ò (–í–ù–£–¢–†–ï–ù–ù–Ø–Ø –ë–ê–ó–ê):**\n"
            f"{products_context}\n\n"
            "**–ò–ù–°–¢–†–£–ö–¶–ò–Ø:** –†–µ–∫–æ–º–µ–Ω–¥—É–π –¢–û–õ–¨–ö–û —Ç–æ–≤–∞—Ä—ã –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞."
        )
    elif shop_url:
        context_block = (
            f"üõí **–û–ë–õ–ê–°–¢–¨ –ü–û–ò–°–ö–ê (GOOGLE):**\n"
            f"–ò—â–∏ —Ç–æ–≤–∞—Ä—ã –°–¢–†–û–ì–û –Ω–∞ —Å–∞–π—Ç–µ: {shop_url}\n"
            f"–ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞: `site:{shop_url} [–º–æ–¥–µ–ª—å]`."
        )
    else:
        context_block = "–ò—â–∏ –ª—É—á—à–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä—ã–Ω–∫–µ –†–§."

    return PromptConfig.CATALOG_TEMPLATE.format(
        quiz_data=quiz_data,
        context_block=context_block
    )


def get_marketing_footer(branch: str) -> str:
    """–í—ã–±–∏—Ä–∞–µ–º —Ñ—É—Ç–µ—Ä –ø–æ –≤–µ—Ç–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    if branch == 'service_only':
        return PromptConfig.OWNER_MARKETING_FOOTER

    # –î–ª—è pregnant –ò stroller_6_plus - –æ–±—â–∏–π —Ç–µ–∫—Å—Ç
    return PromptConfig.BUYER_MARKETING_FOOTER




